@model Bookify.Models.EditProfileViewModel
@{
    ViewData["Title"] = "Edit Profile";
}
<link href="~/css/edit.css" rel="stylesheet" />
<div class="profile-container">
    <div class="gold-accent"></div>
    <div class="profile-sidebar">
        <div class="user-profile">
            <div class="avatar-container">
                <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=200&q=80" alt="User Avatar" class="user-avatar">
                <div class="avatar-overlay">
                    <i class="fas fa-camera"></i>
                </div>
            </div>
            <div class="user-info">
                <h2 class="user-name">@Model.Name</h2>
                <p class="user-role">Luxury Traveler</p>
                <div class="membership-badge">
                    <i class="fas fa-crown"></i>
                    <span>Platinum Member</span>
                </div>
            </div>
        </div>

        <ul class="profile-nav">
            <li><a href="#" class="active"><i class="fas fa-user-edit"></i> <span>Edit Profile</span></a></li>
        </ul>

        <div class="profile-stats">
            <h3><i class="fas fa-chart-line"></i> Profile Stats</h3>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-value">24</div>
                    <div class="stat-label">Total Stays</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">3</div>
                    <div class="stat-label">Upcoming</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">12</div>
                    <div class="stat-label">Reviews</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">8</div>
                    <div class="stat-label">Wishlist</div>
                </div>
            </div>
        </div>
    </div>

    <div class="profile-content">
        <div class="profile-header">
            <h1><i class="fas fa-user-edit"></i> Edit Profile</h1>
            <p class="welcome-text">Update your personal information to keep your account current and secure. Your profile helps us personalize your luxury experience.</p>
        </div>

        @if (TempData["SuccessMessage"] != null)
        {
            <div class="alert alert-success" style="background: #81c784; color: white; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                <i class="fas fa-check-circle"></i> @TempData["SuccessMessage"]
            </div>
        }

        @if (ViewBag.Error != null)
        {
            <div class="alert alert-danger" style="background: #e57373; color: white; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                <i class="fas fa-exclamation-circle"></i> @ViewBag.Error
            </div>
        }

        <div class="form-container">
            <form asp-action="Edit" asp-controller="Profile" method="post" class="profile-form">
                @Html.AntiForgeryToken()
                
                <div asp-validation-summary="ModelOnly" class="text-danger" style="color: #e57373; margin-bottom: 15px;"></div>

                <div class="form-row">
                    <div class="form-group">
                        <label asp-for="FirstName"><i class="fas fa-signature"></i> First Name</label>
                        <input asp-for="FirstName" type="text" class="form-control" />
                        <span asp-validation-for="FirstName" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="LastName"><i class="fas fa-signature"></i> Last Name</label>
                        <input asp-for="LastName" type="text" class="form-control" />
                        <span asp-validation-for="LastName" class="text-danger"></span>
                    </div>
                </div>

                <div class="form-group">
                    <label asp-for="Name"><i class="fas fa-user"></i> Full Name</label>
                    <input asp-for="Name" type="text" class="form-control" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label asp-for="Email"><i class="fas fa-envelope"></i> Email Address</label>
                    <div class="input-with-icon">
                        <input asp-for="Email" type="email" class="form-control" />
                        <div class="verified-badge">
                            <i class="fas fa-check-circle"></i>
                            <span>Verified</span>
                        </div>
                    </div>
                    <span asp-validation-for="Email" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label asp-for="PhoneNumber"><i class="fas fa-phone"></i> Phone Number</label>
                    <div class="input-with-icon">
                        <input asp-for="PhoneNumber" type="tel" class="form-control" />
                        <div class="verified-badge">
                            <i class="fas fa-check-circle"></i>
                            <span>Verified</span>
                        </div>
                    </div>
                    <span asp-validation-for="PhoneNumber" class="text-danger"></span>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label asp-for="Age"><i class="fas fa-birthday-cake"></i> Age</label>
                        <input asp-for="Age" type="number" min="18" max="120" class="form-control" />
                        <span asp-validation-for="Age" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="Nationality"><i class="fas fa-globe"></i> Nationality</label>
                        <input asp-for="Nationality" type="text" class="form-control" />
                        <span asp-validation-for="Nationality" class="text-danger"></span>
                    </div>
                </div>

                <div class="form-group">
                    <label asp-for="Address"><i class="fas fa-map-marker-alt"></i> Address</label>
                    <textarea asp-for="Address" class="form-control"></textarea>
                    <span asp-validation-for="Address" class="text-danger"></span>
                </div>

                <div class="form-actions">
                    <button type="submit" class="save-btn"><i class="fas fa-save"></i> Save Changes</button>
                    <a href="@Url.Action("Index", "Profile")" class="cancel-btn"><i class="fas fa-times"></i> Cancel</a>
                </div>
            </form>
        </div>
    </div>
</div>
<script src="~/js/edit.js"></script>
@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
