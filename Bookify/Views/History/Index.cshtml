@model IEnumerable<Bookify.DataAccessLayer.Entities.Reservation>
@{
	ViewData["Title"] = "Booking History";
}

<link href="~/css/profile.css" rel="stylesheet" />

<style>
	.profile-page{
		padding: 0 20px;
	}
</style>

<h2 class="Book_title">My Booking History</h2>

<div class="profile-page" style="padding-top:50px;">
	<div class="bookings-header">
		<h2>My Bookings</h2>
		<div class="booking-filters">
			<button class="filter-btn active" data-filter="all">All</button>
			<button class="filter-btn" data-filter="pending">Pending</button>
			<button class="filter-btn" data-filter="upcoming">Upcoming</button>
			<button class="filter-btn" data-filter="completed">Completed</button>
			<button class="filter-btn" data-filter="cancelled">Cancelled</button>
		</div>
	</div>


	<div class="bookings-list">
		@foreach (var reservation in Model)
		{
			<div class="booking-card @(reservation.Status.ToString().ToLower())">
				<div class="booking-details">
					<h4>Room @reservation.RoomNumber</h4>
					<div class="booking-info">
						<div class="info-row">
							<i class="fas fa-calendar"></i>
							<span>@reservation.StartDate.ToString("MMM dd, yyyy") - @reservation.EndDate.ToString("MMM dd, yyyy")</span>
						</div>
						<div class="info-row">
							<i class="fas fa-calendar-check"></i>
							<span>Booked on: @reservation.ReservationDate.ToString("MMM dd, yyyy")</span>
						</div>
						<div class="info-row">
							<i class="fas fa-credit-card"></i>
							<span>@reservation.Price.ToString("C") Total</span>
						</div>
					</div>
				</div>
				<div class="booking-image">
					@* <img src="@GetRoomImage(reservation.RoomNumber)" alt="Room @reservation.RoomNumber"> *@
					<div class="booking-status status-@(reservation.Status.ToString().ToLower())">
						@reservation.Status
					</div>
				</div>
			</div>
		}
	</div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
@section Scripts {
	<script src="~/js/profile.js"></script>
}